<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Secure APIs | Web Security Workbook</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.svg">
    <meta name="description" content="Workbook for secure web-applications">
    
    <link rel="preload" href="/assets/css/0.styles.e58af61c.css" as="style"><link rel="preload" href="/assets/js/app.092ee17f.js" as="script"><link rel="preload" href="/assets/js/2.480740af.js" as="script"><link rel="preload" href="/assets/js/14.2e42915a.js" as="script"><link rel="prefetch" href="/assets/js/10.59739b1d.js"><link rel="prefetch" href="/assets/js/11.53d5a4dd.js"><link rel="prefetch" href="/assets/js/12.c0593824.js"><link rel="prefetch" href="/assets/js/13.534c8225.js"><link rel="prefetch" href="/assets/js/15.233363a8.js"><link rel="prefetch" href="/assets/js/16.e355692a.js"><link rel="prefetch" href="/assets/js/17.1576f434.js"><link rel="prefetch" href="/assets/js/18.760b7ef7.js"><link rel="prefetch" href="/assets/js/19.aaa2f77f.js"><link rel="prefetch" href="/assets/js/20.20fba911.js"><link rel="prefetch" href="/assets/js/21.290166de.js"><link rel="prefetch" href="/assets/js/22.e5701877.js"><link rel="prefetch" href="/assets/js/23.32f6ff8e.js"><link rel="prefetch" href="/assets/js/24.f4f1ed6b.js"><link rel="prefetch" href="/assets/js/25.7dc4ef7b.js"><link rel="prefetch" href="/assets/js/26.e3fd7635.js"><link rel="prefetch" href="/assets/js/27.4c4dd822.js"><link rel="prefetch" href="/assets/js/28.352f2a7d.js"><link rel="prefetch" href="/assets/js/29.1f419205.js"><link rel="prefetch" href="/assets/js/3.2d28240e.js"><link rel="prefetch" href="/assets/js/30.3f41ed43.js"><link rel="prefetch" href="/assets/js/31.788e2c0c.js"><link rel="prefetch" href="/assets/js/32.d16bc3c5.js"><link rel="prefetch" href="/assets/js/33.87c3647e.js"><link rel="prefetch" href="/assets/js/34.39e88613.js"><link rel="prefetch" href="/assets/js/35.b1bfc54d.js"><link rel="prefetch" href="/assets/js/36.2561ac02.js"><link rel="prefetch" href="/assets/js/37.f36b2ffc.js"><link rel="prefetch" href="/assets/js/38.406c5ee8.js"><link rel="prefetch" href="/assets/js/39.0dccd049.js"><link rel="prefetch" href="/assets/js/4.6976baea.js"><link rel="prefetch" href="/assets/js/40.e9eeabbd.js"><link rel="prefetch" href="/assets/js/5.848d0eb8.js"><link rel="prefetch" href="/assets/js/6.09ebf8e6.js"><link rel="prefetch" href="/assets/js/7.43b93d5e.js"><link rel="prefetch" href="/assets/js/8.50f3aba0.js"><link rel="prefetch" href="/assets/js/9.afb7cb3c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e58af61c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Web Security Workbook" class="logo"> <span class="site-name can-hide">Web Security Workbook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/owasp2021/" class="nav-link">
  OWASP 2021
</a></div><div class="nav-item"><a href="/general/" class="nav-link router-link-active">
  General
</a></div><div class="nav-item"><a href="/codeExamples.html" class="nav-link">
  Code Examples
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/owasp2021/" class="nav-link">
  OWASP 2021
</a></div><div class="nav-item"><a href="/general/" class="nav-link router-link-active">
  General
</a></div><div class="nav-item"><a href="/codeExamples.html" class="nav-link">
  Code Examples
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/general/" aria-current="page" class="sidebar-link">General Tips &amp; Tricks</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Denial of Service</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Secure Engineering</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/general/SecureEngineering/limitRights.html" class="sidebar-link">Limit Rights</a></li><li><a href="/general/SecureEngineering/prohibitEval.html" class="sidebar-link">Prohibit eval()</a></li><li><a href="/general/SecureEngineering/sast.html" class="sidebar-link">Static Application Security Testing (SAST) Tools</a></li><li><a href="/general/SecureEngineering/secureAPIs.html" aria-current="page" class="active sidebar-link">Secure APIs</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Validation</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="page-title"><a href="#page-title" class="header-anchor">#</a> Secure APIs</h1> <p>An architect should provide secure APIs for e.g. database queries to avoid the usage of potentially insecure functions.</p> <h2 id="background"><a href="#background" class="header-anchor">#</a> Background</h2> <p>Especially when working with inexperienced developers the creation of secure APIs is adviced. Through this, the usage of insecure methods, regardless of their nature (binding to the DOM, or querying data), is only available through an API which was implemented securely. Consequently, developers do not use methods that could lead to security issues in the first place.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <p>The following example shows a secure API the query data from the &quot;User&quot; table using the <a href="https://www.npmjs.com/package/mysql" target="_blank" rel="noopener noreferrer">mysql<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Library in JavaScript. Using this method, an inexperienced developer will not use insecure methods as described <a href="/owasp2021/A3-Injection/sqlinjection.html">here</a>. By passing an JSON array containing objects with an <code>attribute</code> and their corresponding <code>constraint</code>, the <code>WHERE</code> clause of the SQL query is filled securely using placeholders. Next, the created query is send to the database with the constraints passed via the placeholders making the query secure.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">queryUser</span><span class="token punctuation">(</span><span class="token parameter">conditions</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> query <span class="token operator">=</span> <span class="token string">&quot;SELECT * FROM User WHERE&quot;</span>
    <span class="token keyword">let</span> inputs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    conditions<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">condition</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        query <span class="token operator">+=</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> condition<span class="token punctuation">.</span>attribute <span class="token operator">+</span> <span class="token string">&quot; = ?&quot;</span>
        inputs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>condition<span class="token punctuation">.</span>constraint<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    databaseConnection<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> inputs<span class="token punctuation">)</span>

<span class="token punctuation">}</span></code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/general/SecureEngineering/sast.html" class="prev">
        Static Application Security Testing (SAST) Tools
      </a></span> <span class="next"><a href="/general/Validation/">
        Validation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.092ee17f.js" defer></script><script src="/assets/js/2.480740af.js" defer></script><script src="/assets/js/14.2e42915a.js" defer></script>
  </body>
</html>
