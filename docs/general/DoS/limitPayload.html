<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Limit the payload and requests | Web Security Workbook</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.svg">
    <meta name="description" content="Workbook for secure web-applications">
    
    <link rel="preload" href="/assets/css/0.styles.0e2a2249.css" as="style"><link rel="preload" href="/assets/js/app.fde6dde1.js" as="script"><link rel="preload" href="/assets/js/2.480740af.js" as="script"><link rel="preload" href="/assets/js/9.afb7cb3c.js" as="script"><link rel="prefetch" href="/assets/js/10.f67d01df.js"><link rel="prefetch" href="/assets/js/11.95f71cb3.js"><link rel="prefetch" href="/assets/js/12.c0593824.js"><link rel="prefetch" href="/assets/js/13.b1ee8578.js"><link rel="prefetch" href="/assets/js/14.a9c3edeb.js"><link rel="prefetch" href="/assets/js/15.3ae224e5.js"><link rel="prefetch" href="/assets/js/16.e355692a.js"><link rel="prefetch" href="/assets/js/17.1576f434.js"><link rel="prefetch" href="/assets/js/18.5e92a229.js"><link rel="prefetch" href="/assets/js/19.76f34e01.js"><link rel="prefetch" href="/assets/js/20.ec1c37cb.js"><link rel="prefetch" href="/assets/js/21.4c0e36d5.js"><link rel="prefetch" href="/assets/js/22.cd9ccdec.js"><link rel="prefetch" href="/assets/js/23.a4b1567f.js"><link rel="prefetch" href="/assets/js/24.9d0aaa2b.js"><link rel="prefetch" href="/assets/js/25.3686d7f6.js"><link rel="prefetch" href="/assets/js/26.654524fb.js"><link rel="prefetch" href="/assets/js/27.51d6fa71.js"><link rel="prefetch" href="/assets/js/28.e64f1b24.js"><link rel="prefetch" href="/assets/js/29.f8d51257.js"><link rel="prefetch" href="/assets/js/3.2d28240e.js"><link rel="prefetch" href="/assets/js/30.1cb08c71.js"><link rel="prefetch" href="/assets/js/31.33b7b359.js"><link rel="prefetch" href="/assets/js/32.60ae5b1c.js"><link rel="prefetch" href="/assets/js/33.a6af49f2.js"><link rel="prefetch" href="/assets/js/34.120e659f.js"><link rel="prefetch" href="/assets/js/35.c51dd923.js"><link rel="prefetch" href="/assets/js/36.bff69253.js"><link rel="prefetch" href="/assets/js/37.b7db82ad.js"><link rel="prefetch" href="/assets/js/38.5d2e7ea8.js"><link rel="prefetch" href="/assets/js/39.abeae26c.js"><link rel="prefetch" href="/assets/js/4.6bcb8737.js"><link rel="prefetch" href="/assets/js/40.c9d80074.js"><link rel="prefetch" href="/assets/js/41.77b222d3.js"><link rel="prefetch" href="/assets/js/5.acafdb85.js"><link rel="prefetch" href="/assets/js/6.16ef11dd.js"><link rel="prefetch" href="/assets/js/7.43b93d5e.js"><link rel="prefetch" href="/assets/js/8.5dc2a041.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0e2a2249.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Web Security Workbook" class="logo"> <span class="site-name can-hide">Web Security Workbook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/owasp2021/" class="nav-link">
  OWASP 2021
</a></div><div class="nav-item"><a href="/general/" class="nav-link router-link-active">
  General
</a></div><div class="nav-item"><a href="/codeExamples.html" class="nav-link">
  Code Examples
</a></div><div class="nav-item"><a href="/imprint.html" class="nav-link">
  Imprint
</a></div><div class="nav-item"><a href="https://www.msg.group/en/privacy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Privacy
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/owasp2021/" class="nav-link">
  OWASP 2021
</a></div><div class="nav-item"><a href="/general/" class="nav-link router-link-active">
  General
</a></div><div class="nav-item"><a href="/codeExamples.html" class="nav-link">
  Code Examples
</a></div><div class="nav-item"><a href="/imprint.html" class="nav-link">
  Imprint
</a></div><div class="nav-item"><a href="https://www.msg.group/en/privacy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data Privacy
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/general/" aria-current="page" class="sidebar-link">General Tips &amp; Tricks</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Denial of Service</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/general/DoS/limitPayload.html" aria-current="page" class="active sidebar-link">Limit the payload and requests</a></li><li><a href="/general/DoS/simplifyRegex.html" class="sidebar-link">Simplify Regular Expressions</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Secure Engineering</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Validation</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="page-title"><a href="#page-title" class="header-anchor">#</a> Limit the payload and requests</h1> <p>The amount of requests per hour as well as the data send to the server need to be restricted.</p> <h2 id="background"><a href="#background" class="header-anchor">#</a> Background</h2> <p>Each request requires to be dealt with by the server by accessing its data and calculating a response. Especially the amount of data that is received in the requests can have an impact on the performance of the server by costing resources and time.</p> <h3 id="problems"><a href="#problems" class="header-anchor">#</a> Problems</h3> <ul><li>Attackers can send thousands of requests in a short time causing the server to be occupied</li> <li>Attacker can send immense amounts of data to the server causing more and more processes to process illegitimate data</li> <li>These processes are blocked from servicing legitimate users (Denial of Service)</li></ul> <h3 id="solutions"><a href="#solutions" class="header-anchor">#</a> Solutions</h3> <ul><li>Proxies should evaluate data size of incoming requests and block them incase they exceed a certain amount</li> <li>JSON data should be evaluated based on its string length</li> <li>The amount of bytes the data requires is a good indication</li></ul> <h2 id="technology"><a href="#technology" class="header-anchor">#</a> Technology</h2> <h3 id="express"><a href="#express" class="header-anchor">#</a> Express</h3> <p>In Express, one can use the <a href="https://www.npmjs.com/package/limiter" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/limiter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://www.npmjs.com/package/body-parser" target="_blank" rel="noopener noreferrer">body-parser<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library. The former library allows the definition of a <code>RateLimiter</code> implementing the <a href="https://en.wikipedia.org/wiki/Token_bucket" target="_blank" rel="noopener noreferrer">Token Bucket Algorithm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Through this, an amount of tokens for a time interval can be defined which cannot be exceeded. However, attackers can still perform distributed DoS attacks using multiple clients instead of only one which would be restricted after using up its tokens. The latter library limits the amount of data that can be carried by the request by default to 100 kilobytes.</p> <h3 id="spring-boot"><a href="#spring-boot" class="header-anchor">#</a> Spring Boot</h3> <p>In  Spring Boot, the usage of the Spring Cloud Gate way is possible. It also implements a rate limiter through the Token Bucket Algorithm. No data size limiter was found.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/3/2022, 3:51:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/general/" class="prev router-link-active">
        General Tips &amp; Tricks
      </a></span> <span class="next"><a href="/general/DoS/simplifyRegex.html">
        Simplify Regular Expressions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fde6dde1.js" defer></script><script src="/assets/js/2.480740af.js" defer></script><script src="/assets/js/9.afb7cb3c.js" defer></script>
  </body>
</html>
